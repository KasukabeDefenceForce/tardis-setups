name: Simulation

on:
  workflow_dispatch: # manual trigger

defaults:
  run:
    shell: bash -l {0}

jobs:
    imulation:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4
            with:
              fetch-depth: 0
            
          - name: Clone Tardis
            uses: actions/checkout@v4
            with:
                repository: tardis-sn/tardis
                token: ${{ secrets.TARDIS_TOKEN }}
        
          - name: Update pip and install Jupyter
            run: |
                pip install --upgrade pip jupyter 
        
          - name: Verify Notebook File
            run: ls docs/

          - name: Run Notebook
            run: jupyter nbconvert docs/quickstart.ipynb --to html --execute --ExecutePreprocessor.timeout=6000

          - name: Setup tmate session     
            uses: mxschmitt/action-tmate@v3
        #   - uses: actions/upload-artifact@v4
        #     with:
        #       name: changelog
        #       path: CHANGELOG.md
    